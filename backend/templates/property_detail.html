<!DOCTYPE html>
<html>
<head>
    <title>{{ property.title }}</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    >
</head>
<body class="container mt-4">

<h2>{{ property.title }}</h2>

{% if session.get("user_id") %}
    {% if is_favorite %}
    <form method="POST" action="/properties/favorites/remove/{{ property.id }}">
        <button class="btn btn-danger mb-3">
            üíî Remove from Favorites
        </button>
    </form>
    {% else %}
    <form method="POST" action="/properties/favorites/add/{{ property.id }}">
        <button class="btn btn-outline-danger mb-3">
            ‚ù§Ô∏è Add to Favorites
        </button>
    </form>
    {% endif %}
{% endif %}



<p><strong>Price:</strong> {{ property.price }}</p>
<p><strong>Area:</strong> {{ property.area_sqft }} sqft</p>
<p><strong>BHK:</strong> {{ property.bhk }}</p>
<p><strong>Type:</strong> {{ property.property_type }}</p>
<p><strong>City:</strong> {{ property.city }}</p>
<p><strong>Locality:</strong> {{ property.locality }}</p>

<hr>

{% if images and images|length > 0 %}

<!-- Primary Image -->
<div class="mb-4">
    <img
        src="/{{ images[0].image_path }}"
        class="img-fluid rounded"
        alt="Property Image"
    >
</div>

<!-- Secondary Images -->
{% if images|length > 1 %}
<div class="row">
    {% for img in images[1:] %}
    <div class="col-md-3 mb-3">
        <img
            src="/{{ img.image_path }}"
            class="img-fluid rounded"
            alt="Property Image"
        >
    </div>
    {% endfor %}
</div>
{% endif %}

{% else %}
<p class="text-muted">
    No images available for this property.
</p>
{% endif %}

<p>{{ property.description }}</p>

<a href="/properties/browse" class="btn btn-secondary mt-3">
    Back to Listings
</a>


</body>
</html>
